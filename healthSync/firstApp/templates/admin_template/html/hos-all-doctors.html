{% load static %}
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Tous les médecins | Tableau de bord</title>
    <meta content="" name="description" />
    <meta content="" name="author" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'admin/assets/images/favicon.png' %}" type="image/x-icon" />
    <link rel="apple-touch-icon-precomposed" href="{% static 'admin/assets/images/apple-touch-icon-57-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{% static 'admin/assets/images/apple-touch-icon-114-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{% static 'admin/assets/images/apple-touch-icon-72-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static 'admin/assets/images/apple-touch-icon-144-precomposed.png' %}">

    <!-- CORE CSS FRAMEWORK - START -->
    <link href="{% static 'admin/assets/plugins/pace/pace-theme-flash.css' %}" rel="stylesheet" type="text/css" media="screen" />
    <link href="{% static 'admin/assets/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/plugins/bootstrap/css/bootstrap-theme.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/fonts/font-awesome/css/font-awesome.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/fonts/webfont/cryptocoins.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/css/animate.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/plugins/perfect-scrollbar/perfect-scrollbar.css' %}" rel="stylesheet" type="text/css" />
    <!-- CORE CSS FRAMEWORK - END -->

    <!-- CORE CSS TEMPLATE - START -->
    <link href="{% static 'admin/assets/css/style.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'admin/assets/css/responsive.css' %}" rel="stylesheet" type="text/css" />
    <!-- CORE CSS TEMPLATE - END -->

    <style>
        .doctor-photo {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            display: block;
            margin: 0 auto 10px auto;
            background: #f2f2f2;
        }
    </style>
</head>

<body>
    <!-- START TOPBAR -->
    {% include "admin_template/partials/_header.html" %}
    <!-- END TOPBAR -->

    <div class="page-container row-fluid container-fluid">
        <!-- SIDEBAR - START -->
        {% include "admin_template/partials/_sidebar.html" %}
        <!-- SIDEBAR - END -->

        <!-- START CONTENT -->
        <section id="main-content">
            <div class="wrapper main-wrapper row">

                <div class="col-xs-12">
                    <div class="page-title">
                        <div class="pull-left">
                            <h1 class="title">Tous les médecins</h1>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>

                {% for medecin in medecins %}
                <div class="col-lg-4 col-md-6">
                    <section class="box">
                        <div class="content-body p">
                            <div class="row">
                                <div class="doctors-list patient relative">
                                    <div class="doctors-head relative text-center">
                                        <div class="doctor-card has-shadow">
                                            <div class="doc-info-wrap text-left">
                                                <div class="doctor-img">
                                                    <img src="{% if medecin.photo %}{{ medecin.photo.url }}{% else %}{% static 'admin/data/hos-dash/doctor_default.jpg' %}{% endif %}" alt="photo" class="doctor-photo"/>
                                                </div>
                                                <div class="doc-info text-center">
                                                    <h4 class="bold">{{ medecin.nom }} {{ medecin.prenom }}</h4>
                                                    <h5>{{ medecin.specialite.nom }}</h5>
                                                    {% if medecin.note %}
                                                    <div class="doc-rating">
                                                        {% for i in "12345" %}
                                                            {% if medecin.note|default:0 >= i %}
                                                                <i class="fa fa-star"></i>
                                                            {% elif medecin.note|default:0 >= i|add:"-0.5" %}
                                                                <i class="fa fa-star-half"></i>
                                                            {% else %}
                                                                <i class="fa fa-star-o"></i>
                                                            {% endif %}
                                                        {% endfor %}
                                                        <span>{{ medecin.note }}</span>
                                                    </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top:15px;">
                                        <div class="col-xs-6 text-center">
                                            <div>
                                                <h5 class="bold">
                                                    {% if medecin.sexe == "M" %}
                                                        Masculin
                                                    {% elif medecin.sexe == "F" %}
                                                        Féminin
                                                    {% else %}
                                                        {{ medecin.sexe }}
                                                    {% endif %}
                                                </h5>
                                                <h6>Sexe</h6>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 text-center">
                                            <div>
                                                <h5 class="bold">{{ medecin.age }}</h5>
                                                <h6>Âge</h6>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 text-center" style="margin-top:15px;">
                                        <div class="btn-group" role="group">
                                            <a href="{% url 'hos_doctor_profile' medecin.id %}" class="btn btn-primary" title="Voir le profil">
                                                <i class="fa fa-user"></i>
                                            </a>
                                            <a href="{% url 'hos_edit_doctor' medecin.id %}" class="btn btn-warning" title="Modifier">
                                                <i class="fas fa-pencil-alt"></i>
                                            </a>
                                            <form action="{% url 'hos_delete_doctor' medecin.id %}" method="post" style="display:inline;">
                                                {% csrf_token %}
                                                <button type="submit" class="btn btn-danger" title="Supprimer" onclick="return confirm('Supprimer ce médecin ?');">
                                                    <i class="fa fa-trash"></i>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                {% empty %}
                <div class="col-xs-12">
                    <div class="alert alert-info text-center">Aucun médecin trouvé.</div>
                </div>
                {% endfor %}
                <div class="clearfix"></div>
            </div>
        </section>
        <!-- END CONTENT -->
    </div>
    <!-- END CONTAINER -->

    <!-- CORE JS FRAMEWORK - START -->
    <script src="{% static 'admin/assets/js/jquery.min.js' %}"></script>
    <script src="{% static 'admin/assets/js/jquery.easing.min.js' %}"></script>
    <script src="{% static 'admin/assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'admin/assets/plugins/pace/pace.min.js' %}"></script>
    <script src="{% static 'admin/assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static 'admin/assets/plugins/viewport/viewportchecker.js' %}"></script>
    <script>
        window.jQuery || document.write('<script src="{% static 'admin/assets/js/jquery.min.js' %}"><\/script>');
    </script>
    <!-- CORE JS FRAMEWORK - END -->

    <!-- CORE TEMPLATE JS - START -->
    <script src="{% static 'admin/assets/js/scripts.js' %}"></script>
    <!-- END CORE TEMPLATE JS - END -->
</body>
</html>